# ①課題番号-プロダクト名
- 09-ブックマークアプリ(更新・削除)

## ②課題内容（どんな作品か）

- 前回制作した契約管理ツールで、更新・削除処理を追加しました
- 合わせてOGP画像で重たくなってしまっていた課題も対応しました
    - 初回登録時にOGP画像のurlを取得してDBに保存し、画面描画時はその情報をDBから取得して表示します（今までは描写時にリンク先のサイトにアクセスしてOGP画像拾ってました）
    - 一応OGPも更新されることがあると思うので、更新処理の際に再度OGP画像を取得する仕組みにしました

## ③DEMO
- https://chisaxworks.sakura.ne.jp/gs_kadai09_php3/

## ④作ったアプリケーション用のIDまたはPasswordがある場合
- ID: 今回なし
- PW: 今回なし

## ⑤工夫した点・こだわった点
- 削除については、用途としてあまり頻繁にはないので、編集画面上で削除するUIとしました。それに伴いhoverカラーは分かりやすく修正しています。

## ⑥難しかった点・次回トライしたいこと(又は機能)
- 更新削除については、基本は講座の内容をベースにしたのでそこまで難しくはなかったですが、selectやradioボタンでDBの値を初期表示するのは、静的なものはありましたが、DBの値を元にする方法はぐぐってもヒットせずChatGPTに確認しました。

## ⑦質問・疑問・感想、シェアしたいこと等なんでも
- OGP画像の影響で重くなってしまった件の対処については最終的に3つの案を試しました
    - 1回目の案
        - 非同期処理を行おうと思い、一度画像はnoimageを描画して（これが先の処理）、その後にOGP画像を取得・描画することを考えましたが、そもそも先の処理の方のhtmlタグはphpで変数を埋め込みながら作っている（授業でもあった「$view .= 」）ため、そのhtmlタグの中に更にphpの変数を入れるというのが難しく断念しました
    - 2回目の案
        - 後から差し込むimgタグをjQueryで行うのはどうか（以前の神経衰弱でやった処理と同様）と思い、phpでOGP画像のURLを配列→JSONにして、それをjsで読み込ませてimgタグをhtmlに挿入するやり方を考えました。ただ、imgタグをhtmlに挿入するにあたり、どのdivに差し込むのかidを保持する必要があり、そうなるとphpの配列は連想配列（idとogpのURL）にする必要があることに気づいたあたりで、3回目の案の方が圧倒的に楽だと思い、方針転換しました。
    - 3回目の案（今回採用）
        - 初回登録時にOGP画像のurlを取得してDBに保存し、画面描画時はその情報をDBから取得して表示する これによってコードもさほど複雑にならずにすみました